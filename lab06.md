# LAB 06

```{r}
# TASK 1
# Створити матрицю mat з 5 стовпцями та 10 строками за допомогою matrix
# з випадковими даними (функція rnorm(50))
mat <- matrix(rnorm(50), 10, 5)

# > mat
#             [,1]       [,2]         [,3]       [,4]        [,5]
#  [1,]  0.2199407 -1.2836645  1.037662100  0.1474952 -0.24020347
#  [2,]  0.2282422 -0.9621302  0.019797211  1.6340738 -0.66592839
#  [3,]  1.0050026 -1.4759732  0.877392182  0.2314002 -0.24173895
#  [4,]  0.9176873 -0.7596232 -0.012212047 -0.7711253  1.27842523
#  [5,] -0.8240094 -0.5908933  1.230274983 -1.5956533  0.78444420
#  [6,]  0.1928119  0.5587599  0.380335855  0.5175900  0.85637196
#  [7,] -0.6117583 -0.7837741 -0.256527161 -0.6423401  0.02920305
#  [8,]  0.5116370 -0.1764226 -0.176696587 -0.3230164  0.72036826
#  [9,] -1.6966838  0.5096263 -0.004356451  0.1552802 -0.25038297
# [10,]  0.5891041  0.5274952  0.565775083  0.7083760  0.61184433
```

```{r}
# TASK 2
#Знайти максимальне значення в кожному стовпці
apply(mat, 2, max)
# [1] 1.0050026 0.5587599 1.2302750 1.6340738 1.2784252
```

```{r}
# TASK 3
# Знайти середнє (mean) значення кожного стовпця
apply(mat, 2, mean)
# [1]  0.053197419 -0.443659970  0.366144517  0.006208021  0.288240324
```

```{r}
# TASK 4
# Знайти мінімальне значення в кожному рядку
apply(mat, 1, min)
# [1] -1.2836645 -0.9621302 -1.4759732 -0.7711253 -1.5956533  0.1928119
# [7] -0.7837741 -0.3230164 -1.6966838  0.5274952
```

```{r}
# TASK 5
# Відсортувати кожний стовпчик таблиці
apply(mat, 2, sort) 
#             [,1]       [,2]         [,3]       [,4]        [,5]
#  [1,] -1.6966838 -1.4759732 -0.256527161 -1.5956533 -0.66592839
#  [2,] -0.8240094 -1.2836645 -0.176696587 -0.7711253 -0.25038297
#  [3,] -0.6117583 -0.9621302 -0.012212047 -0.6423401 -0.24173895
#  [4,]  0.1928119 -0.7837741 -0.004356451 -0.3230164 -0.24020347
#  [5,]  0.2199407 -0.7596232  0.019797211  0.1474952  0.02920305
#  [6,]  0.2282422 -0.5908933  0.380335855  0.1552802  0.61184433
#  [7,]  0.5116370 -0.1764226  0.565775083  0.2314002  0.72036826
#  [8,]  0.5891041  0.5096263  0.877392182  0.5175900  0.78444420
#  [9,]  0.9176873  0.5274952  1.037662100  0.7083760  0.85637196
# [10,]  1.0050026  0.5587599  1.230274983  1.6340738  1.27842523

# у зворотному напрямку
apply(mat, 2, sort, decreasing=TRUE)
#             [,1]       [,2]        [,3]       [,4]       [,5]
#  [1,]  1.74705066  1.6999697  1.85571877  1.7569098  1.6077445
#  [2,]  0.94201706  1.4606598  0.80955908  0.9019968  1.3461852
#  [3,]  0.30697808  1.1677577  0.67996853  0.8372693  1.1041405
#  [4,]  0.17152837  0.7085794  0.63735008  0.4071013  1.0519706
#  [5,]  0.04804247  0.6122480  0.06802779  0.3968258  0.8323063
#  [6,] -0.06437645  0.3494216 -0.21507472  0.2190115  0.7794963
#  [7,] -0.14919612  0.3408795 -0.64777476  0.1336697  0.6709481
#  [8,] -0.29860206  0.1103453 -1.35525546 -0.2812277  0.2770466
#  [9,] -1.16017667 -0.3445600 -1.71887416 -0.3165043 -0.2917884
# [10,] -1.35335761 -0.6902920 -1.89366945 -0.6384247 -0.8825102
```

```{r}
# TASK 6
# Знайти кількість значень < 0 для кожного стовпця. Використати свою функцію
apply(mat<0, 2, sum)
# [1] 3 7 4 4 4
```

```{r}
# TASK 7
# Вивести вектор з булевими значеннями TRUE та FALSE.
# TRUE, якщо в стовпці є елементи >2, FALSE – якщо немає
apply(mat, 2, sum)>2
# [1] FALSE FALSE FALSE FALSE FALSE
```

```{r}
# TASK 8
# Створення списку
list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2))
# $observationA
# [1] 1 2 3 4 5 7 6 5 4 3

# $observationB
#      [,1] [,2] [,3]
# [1,]    1    3    5
# [2,]    2    4    6

# Знайти sum за допомогою lapply
lapply(list1, sum)
# $observationA
# [1] 40

# $observationB
# [1] 21
```

```{r}
# TASK 9
# Знайти максимальне та мінімальне значення (range) для елементів списку
sapply(list1, range)
#      observationA observationB
# [1,]            1            1
# [2,]            7            6

lapply(list1, range)
# $observationA
# [1] 1 7

# $observationB
# [1] 1 6
```

```{r}
# TASK 10
# Знайти середнє count для кожного spray
tapply(InsectSprays$count, InsectSprays$spray, mean)
#         A         B         C         D         E         F 
# 14.500000 15.333333  2.083333  4.916667  3.500000 16.666667
```
